{"version":3,"file":"findCandyGuardByAddress.mjs","sources":["../../../../../src/plugins/candyMachineModule/operations/findCandyGuardByAddress.ts"],"sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { CandyGuardsSettings, DefaultCandyGuardSettings } from '../guards';\nimport { CandyGuard, toCandyGuard } from '../models';\nimport {\n  assertAccountExists,\n  Operation,\n  OperationHandler,\n  OperationScope,\n} from '@/types';\nimport { Metaplex } from '@/Metaplex';\n\n// -----------------\n// Operation\n// -----------------\n\nconst Key = 'FindCandyGuardByAddressOperation' as const;\n\n/**\n * Find an existing Candy Guard by its address.\n *\n * ```ts\n * const candyGuard = await metaplex\n *   .candyMachines()\n *   .findCandyGuardbyAddress({ address };\n * ```\n *\n * @group Operations\n * @category Constructors\n */\nexport const findCandyGuardByAddressOperation =\n  _findCandyGuardByAddressOperation;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction _findCandyGuardByAddressOperation<\n  T extends CandyGuardsSettings = DefaultCandyGuardSettings\n>(input: FindCandyGuardByAddressInput): FindCandyGuardByAddressOperation<T> {\n  return { key: Key, input };\n}\n_findCandyGuardByAddressOperation.key = Key;\n\n/**\n * @group Operations\n * @category Types\n */\nexport type FindCandyGuardByAddressOperation<\n  T extends CandyGuardsSettings = DefaultCandyGuardSettings\n> = Operation<typeof Key, FindCandyGuardByAddressInput, CandyGuard<T>>;\n\n/**\n * @group Operations\n * @category Inputs\n */\nexport type FindCandyGuardByAddressInput = {\n  /** The Candy Guard address. */\n  address: PublicKey;\n};\n\n/**\n * @group Operations\n * @category Handlers\n */\nexport const findCandyGuardByAddressOperationHandler: OperationHandler<FindCandyGuardByAddressOperation> =\n  {\n    handle: async <T extends CandyGuardsSettings = DefaultCandyGuardSettings>(\n      operation: FindCandyGuardByAddressOperation,\n      metaplex: Metaplex,\n      scope: OperationScope\n    ): Promise<CandyGuard<T>> => {\n      const { address } = operation.input;\n      const account = await metaplex\n        .rpc()\n        .getAccount(address, scope.commitment);\n      assertAccountExists(account);\n\n      return toCandyGuard<T>(account, metaplex);\n    },\n  };\n"],"names":["Key","findCandyGuardByAddressOperation","_findCandyGuardByAddressOperation","input","key","findCandyGuardByAddressOperationHandler","handle","operation","metaplex","scope","address","account","rpc","getAccount","commitment","assertAccountExists","toCandyGuard"],"mappings":";;;AAWA;AACA;AACA;;AAEA,MAAMA,GAAG,GAAG,kCAA2C,CAAA;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,gCAAgC,GAC3CC,kCAAiC;AACnC;AACA,SAASA,iCAAiC,CAExCC,KAAmC,EAAuC;EAC1E,OAAO;AAAEC,IAAAA,GAAG,EAAEJ,GAAG;AAAEG,IAAAA,KAAAA;GAAO,CAAA;AAC5B,CAAA;AACAD,iCAAiC,CAACE,GAAG,GAAGJ,GAAG,CAAA;;AAE3C;AACA;AACA;AACA;;AAcA;AACA;AACA;AACA;AACO,MAAMK,uCAA2F,GACtG;AACEC,EAAAA,MAAM,EAAE,OACNC,SAA2C,EAC3CC,QAAkB,EAClBC,KAAqB,KACM;IAC3B,MAAM;AAAEC,MAAAA,OAAAA;KAAS,GAAGH,SAAS,CAACJ,KAAK,CAAA;AACnC,IAAA,MAAMQ,OAAO,GAAG,MAAMH,QAAQ,CAC3BI,GAAG,EAAE,CACLC,UAAU,CAACH,OAAO,EAAED,KAAK,CAACK,UAAU,CAAC,CAAA;IACxCC,mBAAmB,CAACJ,OAAO,CAAC,CAAA;AAE5B,IAAA,OAAOK,YAAY,CAAIL,OAAO,EAAEH,QAAQ,CAAC,CAAA;AAC3C,GAAA;AACF;;;;"}