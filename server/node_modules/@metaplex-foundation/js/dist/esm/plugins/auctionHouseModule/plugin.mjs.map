{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/auctionHouseModule/plugin.ts"],"sourcesContent":["import { cusper, PROGRAM_ID } from '@metaplex-foundation/mpl-auction-house';\nimport { ProgramClient } from '../programModule';\nimport { AuctionHouseClient } from './AuctionHouseClient';\nimport {\n  cancelBidOperation,\n  cancelBidOperationHandler,\n  cancelListingOperation,\n  cancelListingOperationHandler,\n  createAuctionHouseOperation,\n  createAuctionHouseOperationHandler,\n  createBidOperation,\n  createBidOperationHandler,\n  createListingOperation,\n  createListingOperationHandler,\n  depositToBuyerAccountOperation,\n  depositToBuyerAccountOperationHandler,\n  directBuyOperation,\n  directBuyOperationHandler,\n  directSellOperation,\n  directSellOperationHandler,\n  executeSaleOperation,\n  executeSaleOperationHandler,\n  findAuctionHouseByAddressOperation,\n  findAuctionHouseByAddressOperationHandler,\n  findAuctionHouseByCreatorAndMintOperation,\n  findAuctionHouseByCreatorAndMintOperationHandler,\n  findBidByReceiptOperation,\n  findBidByReceiptOperationHandler,\n  findBidByTradeStateOperation,\n  findBidByTradeStateOperationHandler,\n  findBidsOperation,\n  findBidsOperationHandler,\n  findListingByReceiptOperation,\n  findListingByReceiptOperationHandler,\n  findListingByTradeStateOperation,\n  findListingByTradeStateOperationHandler,\n  findListingsOperation,\n  findListingsOperationHandler,\n  findPurchaseByReceiptOperation,\n  findPurchaseByReceiptOperationHandler,\n  findPurchaseByTradeStateOperation,\n  findPurchaseByTradeStateOperationHandler,\n  findPurchasesOperation,\n  findPurchasesOperationHandler,\n  getBuyerBalanceOperation,\n  getBuyerBalanceOperationHandler,\n  loadBidOperation,\n  loadBidOperationHandler,\n  loadListingOperation,\n  loadListingOperationHandler,\n  loadPurchaseOperation,\n  loadPurchaseOperationHandler,\n  updateAuctionHouseOperation,\n  updateAuctionHouseOperationHandler,\n  withdrawFromBuyerAccountOperation,\n  withdrawFromBuyerAccountOperationHandler,\n  withdrawFromFeeAccountOperation,\n  withdrawFromFeeAccountOperationHandler,\n  withdrawFromTreasuryAccountOperation,\n  withdrawFromTreasuryAccountOperationHandler,\n} from './operations';\nimport type { ErrorWithLogs, MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n\n/** @group Plugins */\nexport const auctionHouseModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Auction House Program.\n    const auctionHouseProgram = {\n      name: 'AuctionHouseProgram',\n      address: PROGRAM_ID,\n      errorResolver: (error: ErrorWithLogs) =>\n        cusper.errorFromProgramLogs(error.logs, false),\n    };\n    metaplex.programs().register(auctionHouseProgram);\n    metaplex.programs().getAuctionHouse = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(auctionHouseProgram.name, programs);\n    };\n\n    const op = metaplex.operations();\n    op.register(cancelBidOperation, cancelBidOperationHandler);\n    op.register(cancelListingOperation, cancelListingOperationHandler);\n    op.register(\n      createAuctionHouseOperation,\n      createAuctionHouseOperationHandler\n    );\n    op.register(createBidOperation, createBidOperationHandler);\n    op.register(createListingOperation, createListingOperationHandler);\n    op.register(\n      depositToBuyerAccountOperation,\n      depositToBuyerAccountOperationHandler\n    );\n    op.register(directBuyOperation, directBuyOperationHandler);\n    op.register(directSellOperation, directSellOperationHandler);\n    op.register(executeSaleOperation, executeSaleOperationHandler);\n    op.register(\n      findAuctionHouseByAddressOperation,\n      findAuctionHouseByAddressOperationHandler\n    );\n    op.register(\n      findAuctionHouseByCreatorAndMintOperation,\n      findAuctionHouseByCreatorAndMintOperationHandler\n    );\n    op.register(findBidByReceiptOperation, findBidByReceiptOperationHandler);\n    op.register(\n      findBidByTradeStateOperation,\n      findBidByTradeStateOperationHandler\n    );\n    op.register(findBidsOperation, findBidsOperationHandler);\n    op.register(\n      findListingByReceiptOperation,\n      findListingByReceiptOperationHandler\n    );\n    op.register(\n      findListingByTradeStateOperation,\n      findListingByTradeStateOperationHandler\n    );\n    op.register(findListingsOperation, findListingsOperationHandler);\n    op.register(\n      findPurchaseByReceiptOperation,\n      findPurchaseByReceiptOperationHandler\n    );\n    op.register(\n      findPurchaseByTradeStateOperation,\n      findPurchaseByTradeStateOperationHandler\n    );\n    op.register(findPurchasesOperation, findPurchasesOperationHandler);\n    op.register(getBuyerBalanceOperation, getBuyerBalanceOperationHandler);\n    op.register(loadBidOperation, loadBidOperationHandler);\n    op.register(loadListingOperation, loadListingOperationHandler);\n    op.register(loadPurchaseOperation, loadPurchaseOperationHandler);\n    op.register(\n      updateAuctionHouseOperation,\n      updateAuctionHouseOperationHandler\n    );\n    op.register(\n      withdrawFromBuyerAccountOperation,\n      withdrawFromBuyerAccountOperationHandler\n    );\n    op.register(\n      withdrawFromFeeAccountOperation,\n      withdrawFromFeeAccountOperationHandler\n    );\n    op.register(\n      withdrawFromTreasuryAccountOperation,\n      withdrawFromTreasuryAccountOperationHandler\n    );\n\n    metaplex.auctionHouse = function () {\n      return new AuctionHouseClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    auctionHouse(): AuctionHouseClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getAuctionHouse(programs?: Program[]): Program;\n  }\n}\n"],"names":["auctionHouseModule","install","metaplex","auctionHouseProgram","name","address","PROGRAM_ID","errorResolver","error","cusper","errorFromProgramLogs","logs","programs","register","getAuctionHouse","get","op","operations","cancelBidOperation","cancelBidOperationHandler","cancelListingOperation","cancelListingOperationHandler","createAuctionHouseOperation","createAuctionHouseOperationHandler","createBidOperation","createBidOperationHandler","createListingOperation","createListingOperationHandler","depositToBuyerAccountOperation","depositToBuyerAccountOperationHandler","directBuyOperation","directBuyOperationHandler","directSellOperation","directSellOperationHandler","executeSaleOperation","executeSaleOperationHandler","findAuctionHouseByAddressOperation","findAuctionHouseByAddressOperationHandler","findAuctionHouseByCreatorAndMintOperation","findAuctionHouseByCreatorAndMintOperationHandler","findBidByReceiptOperation","findBidByReceiptOperationHandler","findBidByTradeStateOperation","findBidByTradeStateOperationHandler","findBidsOperation","findBidsOperationHandler","findListingByReceiptOperation","findListingByReceiptOperationHandler","findListingByTradeStateOperation","findListingByTradeStateOperationHandler","findListingsOperation","findListingsOperationHandler","findPurchaseByReceiptOperation","findPurchaseByReceiptOperationHandler","findPurchaseByTradeStateOperation","findPurchaseByTradeStateOperationHandler","findPurchasesOperation","findPurchasesOperationHandler","getBuyerBalanceOperation","getBuyerBalanceOperationHandler","loadBidOperation","loadBidOperationHandler","loadListingOperation","loadListingOperationHandler","loadPurchaseOperation","loadPurchaseOperationHandler","updateAuctionHouseOperation","updateAuctionHouseOperationHandler","withdrawFromBuyerAccountOperation","withdrawFromBuyerAccountOperationHandler","withdrawFromFeeAccountOperation","withdrawFromFeeAccountOperationHandler","withdrawFromTreasuryAccountOperation","withdrawFromTreasuryAccountOperationHandler","auctionHouse","AuctionHouseClient"],"mappings":"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"}