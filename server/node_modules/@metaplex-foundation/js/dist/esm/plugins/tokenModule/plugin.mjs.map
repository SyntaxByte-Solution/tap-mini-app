{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/tokenModule/plugin.ts"],"sourcesContent":["import { ProgramClient } from '../programModule';\nimport {\n  approveTokenDelegateAuthorityOperation,\n  approveTokenDelegateAuthorityOperationHandler,\n  createMintOperation,\n  createMintOperationHandler,\n  createTokenOperation,\n  createTokenOperationHandler,\n  createTokenWithMintOperation,\n  createTokenWithMintOperationHandler,\n  findMintByAddressOperation,\n  findMintByAddressOperationHandler,\n  findTokenByAddressOperation,\n  findTokenByAddressOperationHandler,\n  findTokenWithMintByAddressOperation,\n  findTokenWithMintByAddressOperationHandler,\n  findTokenWithMintByMintOperation,\n  findTokenWithMintByMintOperationHandler,\n  freezeTokensOperation,\n  freezeTokensOperationHandler,\n  mintTokensOperation,\n  mintTokensOperationHandler,\n  revokeTokenDelegateAuthorityOperation,\n  revokeTokenDelegateAuthorityOperationHandler,\n  sendTokensOperation,\n  sendTokensOperationHandler,\n  thawTokensOperation,\n  thawTokensOperationHandler,\n} from './operations';\nimport { associatedTokenProgram, tokenProgram } from './program';\nimport { TokenClient } from './TokenClient';\nimport type { MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n/**\n * @group Plugins\n */\n/** @group Plugins */\nexport const tokenModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Token Program.\n    metaplex.programs().register(tokenProgram);\n    metaplex.programs().getToken = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(tokenProgram.name, programs);\n    };\n\n    // Associated Token Program.\n    metaplex.programs().register(associatedTokenProgram);\n    metaplex.programs().getAssociatedToken = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(associatedTokenProgram.name, programs);\n    };\n\n    // Operations.\n    const op = metaplex.operations();\n    op.register(\n      approveTokenDelegateAuthorityOperation,\n      approveTokenDelegateAuthorityOperationHandler\n    );\n    op.register(createMintOperation, createMintOperationHandler);\n    op.register(createTokenOperation, createTokenOperationHandler);\n    op.register(\n      createTokenWithMintOperation,\n      createTokenWithMintOperationHandler\n    );\n    op.register(findMintByAddressOperation, findMintByAddressOperationHandler);\n    op.register(\n      findTokenByAddressOperation,\n      findTokenByAddressOperationHandler\n    );\n    op.register(\n      findTokenWithMintByAddressOperation,\n      findTokenWithMintByAddressOperationHandler\n    );\n    op.register(\n      findTokenWithMintByMintOperation,\n      findTokenWithMintByMintOperationHandler\n    );\n    op.register(freezeTokensOperation, freezeTokensOperationHandler);\n    op.register(mintTokensOperation, mintTokensOperationHandler);\n    op.register(\n      revokeTokenDelegateAuthorityOperation,\n      revokeTokenDelegateAuthorityOperationHandler\n    );\n    op.register(sendTokensOperation, sendTokensOperationHandler);\n    op.register(thawTokensOperation, thawTokensOperationHandler);\n\n    metaplex.tokens = function () {\n      return new TokenClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    tokens(): TokenClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getToken(programs?: Program[]): Program;\n    getAssociatedToken(programs?: Program[]): Program;\n  }\n}\n"],"names":["tokenModule","install","metaplex","programs","register","tokenProgram","getToken","get","name","associatedTokenProgram","getAssociatedToken","op","operations","approveTokenDelegateAuthorityOperation","approveTokenDelegateAuthorityOperationHandler","createMintOperation","createMintOperationHandler","createTokenOperation","createTokenOperationHandler","createTokenWithMintOperation","createTokenWithMintOperationHandler","findMintByAddressOperation","findMintByAddressOperationHandler","findTokenByAddressOperation","findTokenByAddressOperationHandler","findTokenWithMintByAddressOperation","findTokenWithMintByAddressOperationHandler","findTokenWithMintByMintOperation","findTokenWithMintByMintOperationHandler","freezeTokensOperation","freezeTokensOperationHandler","mintTokensOperation","mintTokensOperationHandler","revokeTokenDelegateAuthorityOperation","revokeTokenDelegateAuthorityOperationHandler","sendTokensOperation","sendTokensOperationHandler","thawTokensOperation","thawTokensOperationHandler","tokens","TokenClient"],"mappings":";;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACO,MAAMA,WAAW,GAAG,OAAuB;EAChDC,OAAO,CAACC,QAAkB,EAAE;AAC1B;AACAA,IAAAA,QAAQ,CAACC,QAAQ,EAAE,CAACC,QAAQ,CAACC,YAAY,CAAC,CAAA;IAC1CH,QAAQ,CAACC,QAAQ,EAAE,CAACG,QAAQ,GAAG,UAE7BH,QAAoB,EACpB;MACA,OAAO,IAAI,CAACI,GAAG,CAACF,YAAY,CAACG,IAAI,EAAEL,QAAQ,CAAC,CAAA;KAC7C,CAAA;;AAED;AACAD,IAAAA,QAAQ,CAACC,QAAQ,EAAE,CAACC,QAAQ,CAACK,sBAAsB,CAAC,CAAA;IACpDP,QAAQ,CAACC,QAAQ,EAAE,CAACO,kBAAkB,GAAG,UAEvCP,QAAoB,EACpB;MACA,OAAO,IAAI,CAACI,GAAG,CAACE,sBAAsB,CAACD,IAAI,EAAEL,QAAQ,CAAC,CAAA;KACvD,CAAA;;AAED;AACA,IAAA,MAAMQ,EAAE,GAAGT,QAAQ,CAACU,UAAU,EAAE,CAAA;AAChCD,IAAAA,EAAE,CAACP,QAAQ,CACTS,sCAAsC,EACtCC,6CAA6C,CAC9C,CAAA;AACDH,IAAAA,EAAE,CAACP,QAAQ,CAACW,mBAAmB,EAAEC,0BAA0B,CAAC,CAAA;AAC5DL,IAAAA,EAAE,CAACP,QAAQ,CAACa,oBAAoB,EAAEC,2BAA2B,CAAC,CAAA;AAC9DP,IAAAA,EAAE,CAACP,QAAQ,CACTe,4BAA4B,EAC5BC,mCAAmC,CACpC,CAAA;AACDT,IAAAA,EAAE,CAACP,QAAQ,CAACiB,0BAA0B,EAAEC,iCAAiC,CAAC,CAAA;AAC1EX,IAAAA,EAAE,CAACP,QAAQ,CACTmB,2BAA2B,EAC3BC,kCAAkC,CACnC,CAAA;AACDb,IAAAA,EAAE,CAACP,QAAQ,CACTqB,mCAAmC,EACnCC,0CAA0C,CAC3C,CAAA;AACDf,IAAAA,EAAE,CAACP,QAAQ,CACTuB,gCAAgC,EAChCC,uCAAuC,CACxC,CAAA;AACDjB,IAAAA,EAAE,CAACP,QAAQ,CAACyB,qBAAqB,EAAEC,4BAA4B,CAAC,CAAA;AAChEnB,IAAAA,EAAE,CAACP,QAAQ,CAAC2B,mBAAmB,EAAEC,0BAA0B,CAAC,CAAA;AAC5DrB,IAAAA,EAAE,CAACP,QAAQ,CACT6B,qCAAqC,EACrCC,4CAA4C,CAC7C,CAAA;AACDvB,IAAAA,EAAE,CAACP,QAAQ,CAAC+B,mBAAmB,EAAEC,0BAA0B,CAAC,CAAA;AAC5DzB,IAAAA,EAAE,CAACP,QAAQ,CAACiC,mBAAmB,EAAEC,0BAA0B,CAAC,CAAA;IAE5DpC,QAAQ,CAACqC,MAAM,GAAG,YAAY;AAC5B,MAAA,OAAO,IAAIC,WAAW,CAAC,IAAI,CAAC,CAAA;KAC7B,CAAA;AACH,GAAA;AACF,CAAC;;;;"}